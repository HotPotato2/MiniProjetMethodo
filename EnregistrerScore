import java.util.*;
import java.io.*;


public class EnregistrerScore {

	public EnregistrerScore()
	{
		Joueur []j = null;
		File f = new File("Score");
		ObjectOutputStream oos;
		ObjectInputStream ois;
		FileInputStream fIS = new FileInputStream(f);
		BufferedInputStream bIS = new BufferedInputStream(fIS);
        ois = new ObjectInputStream(bIS);
		
		if (f.exists() == false)
		{
			 f.setExecutable(true);
			 f.setReadable(true);
			 f.setWritable(true);
		}
		try{
			  oos = new ObjectOutputStream(new BufferedOutputStream(new FileOutputStream(f)));//création d'un objet d'écriture avec un tampon que l'on va remplir avec write(), un flux de sortie pour écrire dans un fichier et le fichier en question.
			  oos.writeObject(j);
			  oos.close();
		  }
		catch (java.io.IOException e) 
		{
		    	e.printStackTrace();
		 }
			
		String []chaine = f.list();
		String test = "";
		for (int i = 0; i < chaine.length; i++)
	      {
	   	   test+=chaine[i];
	      }
		if (test.isEmpty() == true)
		{
			 System.out.println("Il n'y a pas de score à charger.");
			 main(args);
		}
		try
		{
			try 
			{
				j = (Joueur[])ois.readObject();
			}
			catch (ClassNotFoundException e) 
			{
				e.printStackTrace();
			}
				fIS.close();
				bIS.close();
				ois.close();
	    	}
	      	catch (FileNotFoundException e)
	      	{
	      		System.out.println("Le tableau joueur n'a pas pu être chargé");
	      	}
	}
}
